---
title: "Intro to Statistics"
subtitle: "Cohen Chapter 1 <br><br> .small[EDUC/PSY 6600]"
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: pres2.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9'
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)

knitr::opts_chunk$set(comment     = ">",
                      echo        = TRUE)
```

class: inverse, middle, center

# Background Information

---
background-image: url(figures/fig_scale_variable.png)
background-position: 50% 80%
background-size: 600px

# Scale vs. Variable


---
# Scale vs. Variable

.pull-left[
## MEASUREMENT SCALE

.large[
- .coral[Nominal] = named groupings, no meaningful order
- .dcoral[Ordinal] = groupings that do have natural order
- .nicegreen[Interval] = precise units that are equally spaced
- .bluer[Ratio]	= interval + true zero point
]]

.pull-right[
## VARIABLE TYPE

.large[
- .coral[Categorical] = finite, countable number of levels, no intermediate values possible	
- .nicegreen[Numeric] = infinite intermediate values are possible, at least in theory
]

*NOTE: due to limits on measurement precision, observed data may be discrete, even though the underlying construct is continuous*
]

---
background-image: url(figures/fig_obs_exp.jpg)
background-position: 50% 90%
background-size: 900px

# Observational vs. Experimental




---
# Population vs. Sample


**Parameter**

* applies to the entire population

**Statistic**

* calculated from a subset or sample

---
# Parametric vs. Non-parametric Statistics

**Parametric**

* Based on a specific distribution (i.e. normal)
* Interval, ratio scales
* can be mokre powerful
* accuracy influenced by outliers

**Non-parametric**

* ordinal or norminal scores
* NOT base on any specific distribution
* no assumption makes it more flexible


---
# Rounding Numbers: Rules

### Rules

.large[
If you want to round to N decimal places, look at the digit in the $N + 1$ placeâ€¦
- If it is LESS than 5 -> do not change the digit in the Nth place
- If it is MORE than 5 -> increase the digit in the Nth place by 1
- If it is EQUAL to 5 AND there are no non-zero digits to the right, -> increase the digit in the Nth place by 1 ONLY IF the Nth digit is ODD (do not change it if it is EVEN)

]

In all cases, the last step is to drop the digit in the $N+1$ place and other digits to the right

---
# Rounding Numbers: Examples


Round to **two** decimal places

.pull-left[

- $65.3$
- $8/3$
- $0.4255$
- $0.4358$
- $0.425$
- $0.435$

]

--

.pull-right[

- $65.30$
- $2.67$
- $0.43$
- $0.44$
- $0.42$
- $0.44$

]

---



```{r, echo=FALSE}
knitr::include_graphics("figures/sigma_notation_nice.jpg")
```




---

# Summation: Example 1


$$
x_1 = 5, \; x_2 = 4, \; x_3 = 3, \; x_4 = 2, \; x_5 = 1
$$
$$
y_1 = 10, \; y_2 = 20, \; y_3 = 30, \; y_4 = 40, \; y_5 = 50
$$

--

$$
\sum_{i = 1}^5 x_i
$$

--

$$
= x_1 + x_2 + x_3 + x_4 + x_5 
$$

--

$$
= 5 + 4 + 3 + 2 + 1 
$$
--

$$
= 15
$$

---


# Summation: Example 2


$$
x_1 = 5, \; x_2 = 4, \; x_3 = 3, \; x_4 = 2, \; x_5 = 1
$$


$$
y_1 = 10, \; y_2 = 20, \; y_3 = 30, \; y_4 = 40, \; y_5 = 50
$$




$$
\sum_{i = 1}^2 (x_i + y_i)
$$

--

$$
= (x_1 + y_1) + (x_2 + y_2) 
$$

--

$$
= (5 + 10) + (4 + 20) 
$$

--

$$
= (15) + (24) 
$$

--

$$
= 39
$$


---


# Summation: Example 3


$$
x_1 = 5, \; x_2 = 4, \; x_3 = 3, \; x_4 = 2, \; x_5 = 1
$$


$$
y_1 = 10, \; y_2 = 20, \; y_3 = 30, \; y_4 = 40, \; y_5 = 50
$$



$$
\sum_{i = 1}^2 (x_i \times y_i)
$$


--

$$
= (x_1 \times y_1) + (x_2 \times y_2) 
$$

--

$$
= (5 \times 10) + (4 \times 20) 
$$

--

$$
= (50) + (80) 
$$

--

$$
= 130
$$






---
# Summation: Rules

.pull-left[
#### Number 1
$$
\sum (X_i + Y_i) = \sum X_i + \sum Y_i
$$
$$
\sum (X_i - Y_i) = \sum X_i - \sum Y_i
$$

#### Number 2
$$
\sum_{i=1}^n C = nC
$$


#### Number 3
$$
\sum CX_i = C \sum X_i
$$
]

--

.pull-right[
#### Number 4

$$
\sum (X_i \times Y_i) \neq \sum X_i \times \sum Y_i
$$
]




---
class: inverse, middle, center

# Intro to R

---
# Download `R` and `RStudio`

<br>

.huge[If `R` is like a car's engine, then `RStudio` is the steering wheel, the pedals, and the comfortable seat]

--
.pull-left[.huge[.center[
`R`

[www.r-project.org](https://cran.cnr.berkeley.edu/)
]]]

.pull-right[.huge[.center[
`RStudio`

[www.rstudio.com](https://www.rstudio.com/products/rstudio/download/)
]]]

---
# Focus on what is needed in `R`

<br>

.center[.Huge[
".dcoral[Success] is neither magical nor mysterious. Success is the natural consequence of consistently applying the .nicegreen[basic fundamentals]." --- Jim Rohn
]]

.footnote[https://www.brainyquote.com/quotes/jim_rohn_122132?src=t_fundamentals]


---
# Intro to `R`

.pull-left[.huge[
Why Use `R`?
]
.large[
- .coral[**Free**]ly available
- Almost always up-to-date
- Best .bluer[data visualizations]
- .nicegreen[Syntax oriented] (easy to reproduce analyses)
- Gets updated regularly
- You can make your .gray1[own functionality] (e.g., `table1()`)
]]

--

.pull-right[
.huge[`table1()` produces ðŸ‘‡] 
<br>
![](figures/table1_fig.png)
]


---
count: false
# Intro to `R`

.pull-left[.huge[
Why Use `R`?
]
.large[
- .coral[**Free**]ly available
- Almost always up-to-date
- Best .bluer[data visualizations]
- .nicegreen[Syntax oriented] (easy to reproduce analyses)
- Gets updated regularly
- You can make your .gray1[own functionality] (e.g., `table1()`)
]]

.pull-right[.huge[
Any Issues?
]
.large[
- Learning curve
- Too extensive (people often focus on too much)
- Advisor's sometimes don't use it

The pro's heavily outweight the con's *if* you are willing to use it. It can save you tons of time in the long-run.
]]

---

## .coral[Objects] are Nouns

Virtual objects are like physical objects (e.g., a car is good to travel in, a table not so much)

`R` uses virtual objects 

- a `vector` is values concatinated together
- a `data.frame` is a group of vectors of the same length

--

.pull-left[

.large[.bluer[Vector]]

concatinate or combine


```{r}
c(1, 3, 5, 7, 11, 13)
```

]

--


.pull-right[

.large[.bluer[Data Frame]]

named vectors of the same length

```{r}
data.frame(x = c(1, 3, 5, 7),
           y = c(2, 4, 6, 8))
```
]



---

## .coral[Objects]: save into global environment

.pull-left[


.large[Assignment symbol:  .coral[<-]]


.large[.bluer[Constant]]


```{r}
fred <- 13
```

```{r}
fred
```



.large[.bluer[Vector]]

```{r}
odds <- c(1, 3, 5, 7, 11, 13)
```

```{r}
odds
```

]

--

.pull-right[

.large[.bluer[Data Frame]]

```{r}
df <- data.frame(x = c(1, 3, 5, 7),
                 y = c(2, 4, 6, 8))
```

```{r}
df
```


]




---

## .coral[Class] of a variable: .nicegreen[numeric (dbl)]


.pull-leftbig[

```{r}
df <- data.frame(id   = c(100, 101, 102, 103),
                 name = c("Joe", "Jill", "Meg", "Pat"),
                 age  = c(10, 9, 10, 11),
                 trt  = as.factor(c("A", "B", "A", "B")))
```

```{r}
df
```

]

--



.pull-rightsmall[

.large[dataframe.coral[$]variable]


```{r}
df$id
```

.large[numbers are not quoted]


```{r}
class(df$id)
```

]

---

## .coral[Class] of a variable: .nicegreen[numeric (dbl)]


.pull-leftbig[

```{r}
df <- data.frame(id   = c(100, 101, 102, 103),
                 name = c("Joe", "Jill", "Meg", "Pat"),
                 age  = c(10, 9, 10, 11),
                 trt  = as.factor(c("A", "B", "A", "B")))
```

```{r}
df
```

]


.pull-rightsmall[

.large[dataframe.coral[$]variable]

```{r}
df$age
```

.large[numbers are not quoted]

```{r}
class(df$age)
```

]

---

## .coral[Class] of a variable: .nicegreen[character (chr)]


.pull-leftbig[

```{r}
df <- data.frame(id   = c(100, 101, 102, 103),
                 name = c("Joe", "Jill", "Meg", "Pat"),
                 age  = c(10, 9, 10, 11),
                 trt  = as.factor(c("A", "B", "A", "B")))
```

```{r}
df
```

]



.pull-rightsmall[

.large[dataframe.coral[$]variable]

```{r}
df$name
```

.large[text is quoted]

```{r}
class(df$name)
```

]


---

## .coral[Class] of a variable: .nicegreen[factor (fct)]


.pull-leftbig[

```{r}
df <- data.frame(id   = c(100, 101, 102, 103),
                 name = c("Joe", "Jill", "Meg", "Pat"),
                 age  = c(10, 9, 10, 11),
                 trt  = as.factor(c("A", "B", "A", "B")))
```

```{r}
df
```

]



.pull-rightsmall[

.large[dataframe.coral[$]variable]

```{r}
df$trt
```

.large[factors have levels]

```{r}
class(df$trt)
```

]

---
## .coral[Functions] are Verbs


.pull-left[.large[

Generally looks like: 

`stuff(arg1, arg2)`

- `stuff` function's name
- `()` surround the arguments
- `arg1` arguments or options
]]

--

.pull-right[
.large[Example: "mean" function

- `mean()` 
- 1 argument required: a variable
- returns variable's average
]
```{r}
## This is a comment
mean(df$age)
```
]

---

## .coral[Functions] are Verbs

```{r, echo=FALSE}
knitr::include_graphics("figures/data_verb_input_output.png")
```


---
## .coral[Missing Values] are lack of data

- `NA` represents missing or blank values
- there are no quotes around the `NA`

.pull-leftbig[

```{r}
df <- data.frame(id   = c(100, 101, 102, 103),
                 name = c("Joe", "Jill", "Meg", "Pat"),
                 age  = c(10, 9.5, NA, 11),
                 trt  = as.factor(c("A", "B", "A", "B")))
```

```{r}
df
```

]

--

.pull-rightsmall[


```{r}
mean(df$age)
```


default: 
- keeps in missing values
- NA in data cases NA in mean

```{r}
mean(df$age, na.rm = TRUE)
```

]




---

## .coral[Functions]: what package is it from?


.pull-leftsmall[

Function in Base R

```{r}
dim(df)
```


```{r}
names(df)
```


]

--

.pull-rightbig[

Function from a specific package

```{r}
tibble::glimpse(df)
```

]



---

## The .coral[Tidyverse]

```{r, echo=FALSE, warning=FALSE, error=FALSE, message=FALSE}

knitr::include_graphics("figures/tidyverse.png")
```

---

## The .coral[Tidyverse]


https://rworkshop.uni.lu/lectures/lecture05_dplyr.html#1 

```{r}
library(tidyverse)
```



---
## The .coral[Pipe] links steps


The symbol is typed .nicegreen[`%>%`]

.pull-left[

```{r}
mean(df$age, na.rm = TRUE)
```

```{r}
df$age %>% mean(na.rm = TRUE)
```

]

.pull-right[


```{r, echo=FALSE}
knitr::include_graphics("figures/pipe_verb.png")
```

]


---

```{r, echo=FALSE}
knitr::include_graphics("figures/pipeline_1.png")
```


---


```{r, echo=FALSE, out.width = '75%'}
knitr::include_graphics("figures/pipeline_step1.png")
```

--

```{r, echo=FALSE, out.width = '75%'}
knitr::include_graphics("figures/pipeline_step2.png")
```

---
## Build a .coral[Pipeline]


```{r, echo=FALSE}
knitr::include_graphics("figures/chaining_data_verbs.png")
```

---

```{r, echo=FALSE}
knitr::include_graphics("figures/pipeline_1.png")
```


---

```{r, echo=FALSE, out.width = '75%'}
knitr::include_graphics("figures/pipline_compare.PNG")
```



---

```{r, echo=FALSE, out.width = '75%'}
knitr::include_graphics("figures/pipline_compare_arrows.PNG")
```

---

```{r, echo=FALSE, out.width = '75%'}
knitr::include_graphics("figures/pipeline_stesp_pipe.png")

```





---

## Build a .coral[Pipeline]

```{r, echo=FALSE}
knitr::include_graphics("figures/assembly-line.png")
```


---
# Important first steps in `R`

.large[.large[
1. Read in Data
2. Quickly assess the data
3. Clean the data
4. Analyze the data
]]

--

.large[We'll show each of these over the next few weeks starting with reading in, assessing and cleaning the data]


---
# Read in the data

.huge[Data comes in various files:]

.pull-left[.large[
- CSV
- tab-delimited
- SPSS
- Excel
]]
.pull-right[.large[
- SAS
- Stata
- Mplus
- etc.
]]

--
### `R` can read all types

--

.huge[Generally, it all works in a similar way]

---
# Read in data: FORMAT

.large[Text: .bluer[Comma-seperated]]

```{r, eval = FALSE}
my_data <- read.csv("my_data_file.csv")
```

--

.large[Text: .bluer[tab-delimited]]

```{r, eval = FALSE}
my_data <- read.delim("my_data_file.txt")
```

--

.large[.bluer[Excel]]: .xls, .xlsx

```{r, eval = FALSE}
library(readxl)
my_data <- readxl::read_excel("my_data_file.xlsx")
```

--

.large[.bluer[SPSS]]: .sav

```{r, eval = FALSE}
library(haven)
my_data <- haven::read_spss("my_data_file.sav")
```

---
background-image: url(figures/fig_inho_data_desc.png)
background-position: 50% 90%
background-size: 800px

# Let's use the data from the book


---
# Steps for .dcoral[Preparing] the Data for Analysis

.large[.large[
1. .coral[Get the data]
2. .nicegreen[Prep the data]
    - Variable Labels 	
    - Value Labels	
    - Missing Values
3. .bluer[Compute] new variables and values (fill in missing codes, recode scores, categorize/group values, combine)
4. Get .dcoral[descriptives] using `tableF()` and `table1()` from the `furniture` package to check what is going on
]]

---
# Step 1: Get the data

Data is in .sav form (SPSS)

```{r, eval=FALSE}
library(readxl)
d <- readxl::read_excel("data/Ihno_dataset.xls")
d
```

```{r, echo=FALSE}
library(readxl)
d <- readxl::read_excel("data/Ihno_dataset.xls")
d
```


---
# Step 2: Prep the data

```{r, message=FALSE, warning=FALSE}
library(tidyverse)

d_clean <- d %>%
  dplyr::mutate(MajorF = factor(Major, 
                                levels = c(1, 2, 3, 4, 5),
                                labels = c("Psychology", "Premed",
                                           "Biology", "Sociology",
                                           "Economics"))) %>%
  dplyr::mutate(Coffee = factor(Coffee))

d_clean
```


---
# Step 3: Compute new variables/values

```{r}
d_clean <- d_clean %>%
  dplyr::mutate(newVar = Mathquiz / 2)
```
*Note that I removed the other variables just to show you but in reality all the variables are still there. Also I only want to show the first few rows.
```{r}
d_clean %>% dplyr::select(Mathquiz, newVar) %>% head()
```


---
# Step 4: Get descriptives

.pull-left[
```{r, message=FALSE, warning=FALSE}
library(furniture)

furniture::tableF(d_clean, MajorF)
```
]

.pull-right[
```{r, message=FALSE, warning=FALSE}
furniture::tableF(d_clean, Phobia)
```
]


---
# Step 4: Get descriptives

```{r}
d_clean %>% 
  dplyr::group_by(MajorF) %>% 
  furniture::table1(Mathquiz, Phobia, Coffee)
```

---
class: inverse, center, middle

# Questions?


---
class: inverse, center, middle

# Next Topics

### More Data Manipulation
### Understanding Data via Figures


