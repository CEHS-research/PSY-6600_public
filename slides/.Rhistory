guide = FALSE)
library(tidyverse)   # the easy button
library(rio)      # read in Excel files
library(furniture)   # nice tables
data_raw <- rio::import("Ihno_dataset.xls") %>%
dplyr::rename_all(tolower)                   # converts all variable names to lower case
data_clean <- data_raw %>%
dplyr::mutate(majorF = factor(major,
levels= c(1, 2, 3, 4, 5),
labels = c("Psychology", "Premed",
"Biology", "Sociology",
"Economics"))) %>%
dplyr::mutate(coffeeF = factor(coffee,
levels = c(0, 1),
labels = c("Not a regular coffee drinker",
"Regularly drinks coffee")))
data_clean %>%
furniture::tableF(majorF)
data_clean %>%
furniture::tableF(phobia)
data_clean %>%
ggplot(aes(major)) +
geom_bar()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar() +
labs(x = "Student's Declared Major") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
alpha = .5) +
labs(x = "Student's Declared Major") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "dogerblue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "doger blue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "dodger blue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "dodge blue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "dblue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(majorF)) +
geom_bar(color = "black",
fill  = "blue",
alpha = .5) +
labs(x = "Declared Major",
y = "Number of Students",
title = "Ihno's Experiment",
subtitle = "Participant Demographcis") +
theme_bw()
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram()
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 8)
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 8)
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 4)
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 10)
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 12)
data_clean %>%
ggplot(aes(phobia)) +
geom_histogram(bins = 10)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 5)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 4)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 8)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 10)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 2)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 3)
data_clean %>%
ggplot(aes(mathquiz)) +
geom_histogram(binwidth = 4)
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(comment     = NA,
echo        = TRUE,
warning     = FALSE,
message     = FALSE,
fig.align   = "center",   # center all figures
fig.width   = 8,          # set default figure width to 4 inches
fig.height  = 5)        # set default figure height to 3 inches
cancer_clean
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(comment     = NA,
echo        = TRUE,
warning     = FALSE,
message     = FALSE,
fig.align   = "center",   # center all figures
fig.width   = 8,          # set default figure width to 4 inches
fig.height  = 5)        # set default figure height to 3 inches
set.seed(1)
library(tidyverse)
x = data_frame(
x = append(rnorm(19), 6)) %>%
mutate(cols = factor(ifelse(x == 6, 1, 0)))
p1 = ggplot(x, aes(x, fill = cols)) +
geom_histogram(binwidth = 1, alpha = .5) +
coord_cartesian(xlim = c(-3, 6)) +
scale_fill_manual(values = c("dodgerblue3", "coral2"),
guide = FALSE) +
geom_vline(xintercept = mean(x$x), color = "black") +
annotate("text", x = mean(x$x) + .1, y = 4, label = "Mean",
hjust = 0, color = "black") +
theme_bw(base_size = 18)
p2 = x %>%
filter(x != 6) %>%
ggplot(aes(x, fill = cols)) +
geom_histogram(binwidth = 1, alpha = .5) +
coord_cartesian(xlim = c(-3, 6)) +
scale_fill_manual(values = c("dodgerblue3", "coral2"),
guide = FALSE) +
geom_vline(xintercept = mean(x %>%
filter(x != 6) %>%
pull(x)), color = "black") +
annotate("text", x = mean(x %>%
filter(x != 6) %>%
pull(x)) + .1, y = 3, label = "Mean",
hjust = 0, color = "black") +
theme_bw(base_size = 18)
gridExtra::grid.arrange(p1, p2)
set.seed(1)
library(tidyverse)
x = data_frame(
x = append(rnorm(19), 6)) %>%
mutate(cols = factor(ifelse(x == 6, 1, 0)))
p1 = ggplot(x, aes(x, fill = cols)) +
geom_histogram(binwidth = 1, alpha = .5) +
coord_cartesian(xlim = c(-3, 6)) +
scale_fill_manual(values = c("dodgerblue3", "coral2"),
guide = FALSE) +
geom_vline(xintercept = median(x$x), color = "black") +
annotate("text", x = median(x$x) + .1, y = 4, label = "Median",
hjust = 0, color = "black") +
theme_bw(base_size = 18)
p2 = x %>%
filter(x != 6) %>%
ggplot(aes(x, fill = cols)) +
geom_histogram(binwidth = 1, alpha = .5) +
coord_cartesian(xlim = c(-3, 6)) +
scale_fill_manual(values = c("dodgerblue3", "coral2"),
guide = FALSE) +
geom_vline(xintercept = median(x %>%
filter(x != 6) %>%
pull(x)), color = "black") +
annotate("text", x = median(x %>%
filter(x != 6) %>%
pull(x)) + .1, y = 3, label = "Median",
hjust = 0, color = "black") +
theme_bw(base_size = 18)
gridExtra::grid.arrange(p1, p2)
set.seed(1)
library(tidyverse)
x = data_frame(
noskew = rnorm(50),
right  = append(rnorm(44), rep(c(2.5,3,3.5,4,4.5,5), 1)),
left   = append(rnorm(44), rep(c(-2.5,-3,-3.5,-4,-4.5,-5), 1))) %>%
gather("skew", "value", 1:3)
ggplot(x, aes(value, fill = skew, color = skew)) +
geom_histogram(binwidth = 1, alpha = .5) +
facet_grid(~skew) +
scale_fill_manual(values = c("dodgerblue3", "chartreuse3", "coral2"),
guide = FALSE) +
scale_color_manual(values = c("dodgerblue4", "chartreuse4", "coral3"),
guide = FALSE) +
theme_minimal() +
theme(panel.spacing = unit(.2, "cm")) +
theme_bw(base_size = 18)
set.seed(1)
data_frame(
group = factor(rep(c(0,1), 25)),
treatment = ifelse(group == 0, rnorm(25, -1, 2), rnorm(25, 1, 1.5))
) %>%
mutate(group = factor(group, labels = c("Placebo", "Treatment"))) %>%
ggplot(aes(x = group, y = treatment, group = group, fill = group)) +
geom_boxplot(alpha = .7) +
labs(x = "Group",
y = "Test Score") +
scale_color_manual(values = c("chartreuse3", "coral2"),
guide = FALSE) +
theme_minimal(base_size = 18)
set.seed(1)
y = data_frame(
group = factor(rep(c(0,1), 25)),
treatment = ifelse(group == 0, rnorm(25, -1, 2), rnorm(25, 1, 1.5))
) %>%
mutate(group = factor(group, labels = c("Placebo", "Treatment")))
p1 = ggplot(y,
aes(x = treatment)) +
geom_density(alpha = .5, fill = "dodgerblue4") +
labs(x = "Group",
y = "Test Score",
title = "Density") +
scale_color_manual(values = c("chartreuse3", "coral2"),
guide = FALSE) +
theme_minimal(base_size = 18)
p2 = ggplot(y, aes(x = treatment, group = group, fill = group)) +
geom_density(alpha = .5) +
labs(x = "Group",
y = "Test Score",
title = "Density by Group") +
scale_fill_manual(values = c("chartreuse3", "coral2"),
guide = FALSE) +
theme_minimal(base_size = 18)
gridExtra::grid.arrange(p1, p2, ncol = 2)
data_frame(x = rnorm(50)) %>%
ggplot(aes(sample = x)) +
geom_qq() +
geom_abline(slope = 1, intercept = 0) +
theme_minimal(base_size = 18)
library(tidyverse)    # Loads several very helpful 'tidy' packages
library(rio)          # Read in SPSS datasets
library(furniture)    # Nice tables (by our own Tyson Barrett)
library(psych)        # Lots of nice tid-bits
cancer_raw <- rio::import("data/cancer.sav")
cancer_clean <- cancer_raw %>%
dplyr::rename_all(tolower) %>%
dplyr::mutate(id = factor(id)) %>%
dplyr::mutate(trt = factor(trt,
labels = c("Placebo",
"Aloe Juice"))) %>%
dplyr::mutate(stage = factor(stage))
cancer_clean %>%
furniture::tableF(age, n = 8)
cancer_clean %>%
furniture::tableF(trt)
cancer_clean %>%
dplyr::select(age, weighin, totalcin, totalcw2, totalcw4, totalcw6) %>%
psych::describe()
cancer_clean %>%
furniture::table1(trt, age, weighin)
cancer_clean %>%
dplyr::group_by(trt) %>%
furniture::table1(age, weighin)
cancer_clean %>%
ggplot(aes(x = "Full Sample",   # x = "quoted text"
y = age)) +          # y = contin_var (no quotes)
geom_boxplot()
cancer_clean %>%
ggplot(aes(x = "Full Sample",           # x = "quoted text"
y = age,                     # y = contin_var (no quotes)
fill = trt)) +               # fill = group_var (no quotes)
geom_boxplot()
cancer_clean %>%
ggplot(aes(x = trt,             # x = group_var (no quotes)
y = age)) +          # y = contin_var (no quotes)
geom_boxplot()
cancer_clean %>%
ggplot(aes(x = "Full Sample",   # x = "quoted text"
y = age)) +          # y = contin_var (no quotes)
geom_boxplot() +
facet_grid(. ~ trt)             # . ~ group_var (no quotes)
cancer_clean %>%                # Less than 172 Pound at baseline
dplyr::filter(weighin < 172) %>%
ggplot(aes(x = "Weigh At Baseline < 172",
y = age)) +
geom_boxplot()
cancer_clean %>%           # At least 150 pounds AND not in Aloe group
dplyr::filter(weighin >= 150 & trt == "Placebo") %>%
ggplot(aes(x = "Placebo and at least 150 Pounds",
y = age)) +
geom_boxplot()
cancer_clean %>%          # In Aloe group, but only stages 2-4
dplyr::filter(trt == "Aloe Juice" & stage %in% c(2, 3, 4)) %>%
ggplot(aes(x = "On Aloe Juice and Stage 2-4",
y = weighin)) +
geom_boxplot()
cancer_clean %>%
tidyr::gather(key = "time",         # stack the repeated measures
value = "value",
totalcin, totalcw2, totalcw4, totalcw6) %>%
ggplot(aes(x = time,
y = value)) +
geom_boxplot()
cancer_clean
?pivot_longer
cancer_clean %>%
tidyr::pivot_longer(cols = c(totalcin, totalcw2, totalcw4, totalcw6),
names_to = "week",
names_pattern = "*w(.)",
values_to = "condition")
cancer_clean %>%
tidyr::pivot_longer(cols = c(totalcw2, totalcw4, totalcw6),
names_to = "week",
names_pattern = "*w(.)",
values_to = "condition")
cancer_clean %>%
tidyr::pivot_longer(cols = c(totalcw2, totalcw4, totalcw6),
names_to = "week",
names_pattern = "totalcw(.)",
values_to = "condition")
cancer_clean %>%
tidyr::pivot_longer(cols = c(totalcw2, totalcw4, totalcw6),
names_to = "week",
names_pattern = "totalcw(.)",
values_to = "condition") %>%
ggplot(aes(x = week,
y = condition)) +
geom_boxplot()
cancer_clean %>%
dplyr::filter(weighin > 130 & stage %in% c(2, 4)) %>%
tidyr::pivot_longer(cols = c(totalcw2, totalcw4, totalcw6),
names_to = "week",
names_pattern = "totalcw(.)",
values_to = "condition") %>%
ggplot(aes(x = week, y = condition, fill = stage)) +
geom_boxplot() +
facet_grid(. ~ trt)
ggplot(x, aes(value, fill = skew, color = skew)) +
geom_histogram(binwidth = 1, alpha = .5) +
facet_grid(~skew, labeller = label_both) +
scale_fill_manual(values = c("dodgerblue3", "chartreuse3", "coral2"),
guide = FALSE) +
scale_color_manual(values = c("dodgerblue4", "chartreuse4", "coral3"),
guide = FALSE) +
theme_minimal() +
theme(panel.spacing = unit(.2, "cm")) +
theme_bw(base_size = 18)
set.seed(1)
library(tidyverse)
x = data_frame(
zero = rnorm(50),
positive = append(rnorm(44), rep(c(2.5,3,3.5,4,4.5,5), 1)),
negative = append(rnorm(44), rep(c(-2.5,-3,-3.5,-4,-4.5,-5), 1))) %>%
gather("skew", "value", 1:3)
ggplot(x, aes(value, fill = skew, color = skew)) +
geom_histogram(binwidth = 1, alpha = .5) +
facet_grid(~skew, labeller = label_both) +
scale_fill_manual(values = c("dodgerblue3", "chartreuse3", "coral2"),
guide = FALSE) +
scale_color_manual(values = c("dodgerblue4", "chartreuse4", "coral3"),
guide = FALSE) +
theme_minimal() +
theme(panel.spacing = unit(.2, "cm")) +
theme_bw(base_size = 18)
x
x
x
data_frame(
zero = rnorm(50),
positive = append(rnorm(44), rep(c(2.5,3,3.5,4,4.5,5), 1)),
negative = append(rnorm(44), rep(c(-2.5,-3,-3.5,-4,-4.5,-5), 1))) %>%
tidyr::pivot_longer(names_to = "skew",
values_to = "value")
x <- data_frame(zero = rnorm(50),
positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(names_to = "skew",
values_to = "value")
data_frame(zero = rnorm(50),
positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1)))
x <- data_frame(zero = rnorm(50),
positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(cols = c(zero, positive, negative),
names_to = "skew",
values_to = "value")
x
x <- data_frame(Zero = rnorm(50),
Positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
Negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(cols = c(zero, positive, negative),
names_to = "Skew",
values_to = "value") %>%
dplyr::mutate(skew = skew %>%
factor(levels = c("Negative",
"Zero"
"Positive")) )
x <- data_frame(Zero = rnorm(50),
Positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
Negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(cols = c(zero, positive, negative),
names_to = "Skew",
values_to = "value") %>%
dplyr::mutate(skew = skew %>%
factor(levels = c("Negative",
"Zero",
"Positive")) )
x <- data_frame(Zero = rnorm(50),
Positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
Negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(cols = c(zero, positive, negative),
names_to = "Skew",
values_to = "value") %>%
dplyr::mutate(Skew = Skew %>%
factor(levels = c("Negative",
"Zero",
"Positive")) )
x <- data_frame(Zero = rnorm(50),
Positive = append(rnorm(44),
rep(c(2.5,3,3.5,4,4.5,5),
1)),
Negative = append(rnorm(44),
rep(c(-2.5,-3,-3.5,-4,-4.5,-5),
1))) %>%
tidyr::pivot_longer(cols = c(Zero, Positive, Negative),
names_to = "Skew",
values_to = "value") %>%
dplyr::mutate(Skew = Skew %>%
factor(levels = c("Negative",
"Zero",
"Positive")) )
x %>%
ggplot(aes(value, fill = Skew, color = Skew)) +
geom_histogram(binwidth = 1, alpha = .5) +
facet_grid(~Skew, labeller = label_both) +
scale_fill_manual(values = c("dodgerblue3", "chartreuse3", "coral2"),
guide = FALSE) +
scale_color_manual(values = c("dodgerblue4", "chartreuse4", "coral3"),
guide = FALSE) +
theme_minimal() +
theme(panel.spacing = unit(.2, "cm")) +
theme_bw(base_size = 18)
