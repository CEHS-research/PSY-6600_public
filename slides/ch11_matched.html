<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Matched t-Tests</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <script src="libs/htmlwidgets/htmlwidgets.js"></script>
    <script src="libs/jquery/jquery.min.js"></script>
    <link href="libs/datatables-css/datatables-crosstalk.css" rel="stylesheet" />
    <script src="libs/datatables-binding/datatables.js"></script>
    <link href="libs/dt-core/css/jquery.dataTables.min.css" rel="stylesheet" />
    <link href="libs/dt-core/css/jquery.dataTables.extra.css" rel="stylesheet" />
    <script src="libs/dt-core/js/jquery.dataTables.min.js"></script>
    <link href="libs/crosstalk/css/crosstalk.css" rel="stylesheet" />
    <script src="libs/crosstalk/js/crosstalk.min.js"></script>
    <link rel="stylesheet" href="pres2.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Matched t-Tests
## Cohen Chapter 11 <br><br> .small[EDUC/PSY 6600]

---




class: center, middle

## "…we are suffering from a plethora of surmise, conjecture, and hypothesis. The difficulty is to detach the framework of fact *– of absolute undeniable fact –* from the embellishments of theorists and reporters."

#### - Sherlock Holmes, *Silver Blaze*


---
## Motivating Examples

.large[
- Dr. Filburn wishes to assess the **effectiveness** of a leadership workshop for 60 middle managers. The 60 managers are rated by their immediate supervisors on the Leadership Rating Form (LRF), .coral[before] **and** .nicegreen[after] the workshop.
]

--

.large[
- Dr. Clarke is interested in determining if workers are more concerned with job security **or** pay. He gains the cooperation of 30 individuals who work in different settings and asks each employee to rate his or her concern about .coral[salary level] **and** .nicegreen[job security], on a scale from 1 to 10.
]

--

.large[
- Dr. Gale questions whether husbands **or** wives with infertility problems feel equally anxious. She recruits 24 infertile couples and then administers the Infertility Anxiety Measure (IAM) to both the .coral[husbands] **and** the .nicegreen[wives].
]



---

&lt;!-- ProfessorWolfe: Three Types of t Tests (2 min)--&gt;

&lt;iframe width="1000" height="750" src="https://www.youtube.com/embed/4VdXSXfrBTw?controls=0&amp;amp;start=2" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;


---
# Compare Two Means: *t*-Test

.pull-left[
## Independent Groups
.large[
- Assumes two "Simple Random Samples" (SRS)
- Each sample is at least **representive** of its corresponding population
- All members of **EACH** the samples are **INDEPENDENT** of all others
- There is no connection between members of the two samples
]]

--

.pull-right[
## Dependent Groups
.large[
- The assumption of independence has been violated,  resulting in a **DEPENDENCY** across groups
- Variance of DV smaller as groups consist of same or closely matched cases
]]



---

.pull-left[
## Also known as...
.large[
- Matched samples t-test
- Matched pairs t-test
- Paired samples t-test
- Related samples t-test 
- Correlated samples t-test 
- Dependent samples t-test 
- Non-independent samples t-test 
- Repeated-measures t-test
]]

--

.pull-right[
## Applicable Situations
.large[
- Parent-child dyads
- Litter mates
- Twins
- Pre and Post measures (same variable)
- Two different measures per person
]]


---


.pull-left[
## Experimental
.large[
- Matching groups on some variable(s) 
   +  E.g., sex, age, education
- Reduces potential confounds on IV-DV relationship or when cases cannot receive both conditions
]]

--

.pull-left[
## Observational
.large[
- Samples naturally related, correlated, or dependent based on the nature of the situation
- repeated measures taken on the same person
- Measures can be **successive** or **simultaneous**
]]


---
# Repeated-Measures: successive designs

.large[
- 2 measurements, conditions, or sets of stimuli are applied to cases **sequentially**
- Before-and-after (or longitudinal) designs
    + Pre- / post-test
    + time 1 / time 2
- Cross-over designs (each particiapnt gets both contintions)
    + Order effects? 
    + Need to **counterbalance** order
- Random subset of cases 
    + Half get: A then B
    + Half get: B then A
- Counterbalancing may not eliminate **carry-over effects**
    + Wash-out period
]



---

&lt;!-- CrashCourse Stats: #27 t-Tests: A Matched Pair Made in Heaven (11 min)--&gt;

&lt;iframe width="1000" height="750" src="https://www.youtube.com/embed/AGh66ZPpOSQ?controls=0&amp;amp;start=2" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;


---

&lt;img src="figures/formula_sheet_p1_2samples.jpg" width="85%" style="display: block; margin: auto;" /&gt;



---

&lt;img src="figures/formula_sheet_p1_matched.jpg" width="85%" style="display: block; margin: auto;" /&gt;


---
.pull-left[
### .dcoral[Direct Difference Approach]

- **Variables**: subtract each pair of values
    + Person 1: `\(D_1 = x_1 - y_1\)`
    + Person 2: `\(D_2 = x_2 - y_2\)`
    + Person 3: `\(D_3 = x_2 - y_3\)`
    + `\(\dots\)`
    
- **Summary Stats**: for the .dcoral[DIFFERENCES]
    + M: `\(\overline{D}\)`
    + SD: `\(s_D\)`
    + *no correlation needed*
    
- **Test Statistic**:  .dcoral[*regular* One-Sample t-Test]    
    +  Degrees of Freedom: `\(df = n - 1\)`
    
`$$t=\frac{\overline{D}-\mu_0}{\frac{s_D}{n}}$$`    
    

]

--

.pull-right[
### .nicegreen[Correlation Approach]

- **Variables**: keep the values separate
  + Person 1: `\(x_1\)`, `\(y_1\)`
  + Person 2: `\(x_2\)`, `\(y_2\)`
  + Person 3: `\(x_3\)`, `\(y_3\)`
  + `\(\dots\)`
    
- **Summary Stats**: for .nicegreen[EACH VARIABLE]
    + M: `\(\overline{x_1}\)`, `\(\overline{x_2}\)`
    + SD: `\(s_1\)`, `\(s_2\)`
    + COR: `\(r\)`
    
- **Test Statistic**:   .nicegreen[*adjusted* Two-Sample t-Test]   
    + Degrees of Freedom: `\(df = n - 1\)`

`$$t=\frac{\overline{D}-\mu_0}{\sqrt{\frac{s_1^2 + s_2^2}{n}- \frac{2rs_1s_2}{n}}}$$` 


]



---
class: inverse, center, middle

# Let's Apply This to the Cancer Dataset 

### Testing normality in the population, based on a sample


---
# Read in the Data





```r
library(tidyverse)    # Loads several very helpful 'tidy' packages
library(haven)        # Read in SPSS datasets
library(furniture)    # Nice tables (by our own Tyson Barrett)
library(psych)        # Lots of nice tid-bits
```


```r
cancer_raw &lt;- haven::read_spss("cancer.sav")
```



--
### And Clean It


```r
cancer_clean &lt;- cancer_raw %&gt;% 
  dplyr::rename_all(tolower) %&gt;% 
  dplyr::mutate(id = factor(id)) %&gt;% 
  dplyr::mutate(trt = factor(trt,
                             labels = c("Placebo", 
                                        "Aloe Juice"))) %&gt;% 
  dplyr::mutate(stage = factor(stage))
```


---

## The Cancer Dataset


- `totalcin` as the first measurement, a.k.a. the **pre-test**
- `totalcw6` as the last measurement, a.k.a. the **post-test**

<div id="htmlwidget-69c839532c6d3e61e87e" style="width:100%;height:auto;" class="datatables html-widget"></div>
<script type="application/json" data-for="htmlwidget-69c839532c6d3e61e87e">{"x":{"filter":"none","data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25"],["1","5","6","9","11","15","21","26","31","35","39","41","45","2","12","14","16","22","24","34","37","42","44","50","58"],["Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Placebo","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice","Aloe Juice"],[52,77,60,61,59,69,67,56,61,51,46,65,67,46,56,42,44,27,68,77,86,73,67,60,54],[124,160,136.5,179.6,175.8,167.6,186,158,212.8,189,149,157,186,163.8,227.2,162.6,261.4,225.4,226,164,140,181.5,187,164,172.8],["2","1","4","1","2","1","1","3","1","1","4","1","1","2","4","1","2","1","4","2","1","0","1","2","4"],[6,9,7,6,6,6,6,6,6,6,7,6,8,7,6,4,6,6,12,5,6,8,5,6,7],[6,6,9,7,7,6,11,11,9,4,8,6,8,16,10,6,11,7,11,7,7,11,7,8,8],[6,10,17,9,16,6,11,15,6,8,11,9,9,9,11,8,11,6,12,13,7,16,7,16,10],[7,9,19,3,13,11,10,15,8,7,11,6,10,10,9,7,14,6,9,12,7,null,7,null,8]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>id<\/th>\n      <th>trt<\/th>\n      <th>age<\/th>\n      <th>weighin<\/th>\n      <th>stage<\/th>\n      <th>totalcin<\/th>\n      <th>totalcw2<\/th>\n      <th>totalcw4<\/th>\n      <th>totalcw6<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"pageLength":5,"columnDefs":[{"className":"dt-right","targets":[3,4,6,7,8,9]},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false,"lengthMenu":[5,10,25,50,100]}},"evals":[],"jsHooks":[]}</script>


---

### Example) Data Wrangling

**Create a "DIFFERENCE" score**

- a.k.a. "CHANGE SCORE"


```r
cancer_new &lt;- cancer_clean %&gt;% 
  dplyr::mutate(totalc_diff = totalcw6 - totalcin) 
```


--

**Restructure to "LONG" format**

- one line PER time point


```r
cancer_long &lt;- cancer_new %&gt;% 
  tidyr::pivot_longer(cols = c(totalcin, totalcw6),
                      names_to = "time",
                      names_pattern = "totalc(.*)",
                      values_to = "totalc") %&gt;% 
  dplyr::mutate(time = factor(time,
                              levels = c("in", "w6"),
                              labels = c("Intake", "Week 6")))
```


---

### Example) Histograms &amp; Boxplots

**Distribution at Each Time Point**

.pull-right[

&lt;img src="ch11_matched_files/figure-html/histoboth-1.png" style="display: block; margin: auto;" /&gt;


]


.pull-left[

&lt;img src="ch11_matched_files/figure-html/unnamed-chunk-11-1.png" style="display: block; margin: auto;" /&gt;



]

---

### Example) Histograms &amp; Boxplots

.pull-left[

**Distribution of Change in Scores**

&lt;img src="ch11_matched_files/figure-html/unnamed-chunk-12-1.png" style="display: block; margin: auto;" /&gt;


]



.pull-left[

**Distribution at Each Time Point**

&lt;img src="ch11_matched_files/figure-html/unnamed-chunk-13-1.png" style="display: block; margin: auto;" /&gt;


]



---
### Example) Summary Statistics


--
.pull-left[
**Means and Standard Deviations**


```r
cancer_new %&gt;% 
  furniture::table1("Pre" = totalcin, 
                    "Post" = totalcw6,
                    "Change" = totalc_diff,
                    digits = 2)
```

```

--------------------------
        Mean/Count (SD/%)
        n = 23           
 Pre                     
        6.48 (1.56)      
 Post                    
        9.48 (3.49)      
 Change                  
        3.00 (3.68)      
--------------------------
```


]

--

.pull-right[

**Pearson's Product-Moment Correlation**


```r
cancer_new %&gt;% 
  cor.test(~ totalcin + totalcw6,
           data = .)
```

```

	Pearson's product-moment correlation

data:  totalcin and totalcw6
t = 0.45064, df = 21, p-value = 0.6569
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 -0.3275491  0.4902901
sample estimates:
       cor 
0.09786664 
```

]


---
class: inverse, center, middle

# Questions?


---
class: inverse, center, middle

# Next Topic

### Matched T-Test
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
